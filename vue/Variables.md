```vue ln=false title=some
<script setup>
	defineProps([prop1, prop2])
	const someProp = ref(someValue);
	const someReactive = reactive( {someKeys:someValues} )
	console.log(prop1) //no need to prop1.value
	console.log(someProp.value) //needs .value
	console.log(someReactive.someKeys)
</script>

<template>
</template>
```
# Reactivity
```vue ln=false
<script setup>
	import { ref,reactive, toRefs } from 'vue'
	const count = ref(0) 
	// ุฏุงุฏู ุฑุง ุฏุฑ ฺฉ ุขุจุฌฺฉุช ู ูพฺุฏูุขู ุขุจุฌฺฉุช ุฑุง ุฑุงฺฉุชู ู ฺฉูุฏ
	const state = reactive({ count: 0 }) //only
	// ุฎูุฏ ุขุจุฌฺฉุช ุฑุง ุฑุงฺฉุชู ูฺฉูุฏ 
	const { prop1, prop2 } = toRefs(props); //keep of reactivity
	consol.log(prop1.value);
	const { prop3, prop4 } = props; //loose of reactivity
	consol.log(prop1);
</script>
```

|    ref()    |                               reactive()                               |                            |
| :---------: | :--------------------------------------------------------------------: | -------------------------- |
|  {{count}}  |                            {{state.count}}                             | ุฏุณุชุฑุณ ุจู ูุชุบุฑ ุฏุฑ ุชููพูุช  |
| count.value |                              state.count                               | ุฏุณุชุฑุณ ุจู ูุชุบุฑ ุฏุฑ ุงุณฺฉุฑูพุช |
|  all types  |                only collection types: array,obj,map,set                | ููุน ุฏุงุฏู                   |
|  ุดุฏู ุงุณุช   | ูุงุดุฏู ุงุณุช. <br>ุจุงุฏ ูพุฑุงูพุฑุช ูุง ุฏุงุฎู ุขุจุฌฺฉุช ุชฺฉ ุชฺฉ ููุฏุงุฑ ุฏู ุฌุฏุฏ ุดููุฏ. | ููุฏุงุฑ ุฏู ูุฌุฏุฏ ฺฉู ุขุจุฌฺฉุช    |
# Computed
```vue ln=false
<script>
import { reactive, computed } from 'vue'

	const author = reactive({ 
		name: 'John Doe', 
		books: [ 
			'Advanced Guide', 
			'Basic Guide', 
			'The Mystery' 
		] 
	})
	
	const hasBookProp = computed(  () => {
		return author.books.length > 0 ? 'Yes' : 'No'
		}
	)
	function hasBookMethod() { 
		return author.books.length > 0 ? 'Yes' : 'No' 
	}
</script>
```
- ุฏุณุชุฑุณ ุจู myvar ููุงููุฏ ref ุงุณุช ุนู ุฏุฑ ุงุณฺฉุฑูพุช ุจุง myvar.value ู ุฏุฑ ุชููพูุช ุจุตูุฑุช {{hasBookProp}}.
- ุฏุฑ ุงูุฌุง myvar ฺฉ ูพุฑุงูพุฑุช ุงุณุช ูู ูุชุฏ. ุฏุณุชุฑุณ ุจู ูุชุฏ ุฏุฑ ุชููพูุช: <span dir=ltr>{{ hasBookMethod() }}</span>
- ฺฉ ูพุฑุงูพุฑุช computed ุชููุง ุฒูุงู ุฏูุจุงุฑู ุงุฑุฒุงุจ ูโุดูุฏ ฺฉู ุจุฑุฎ ุงุฒ ูุงุจุณุชฺฏโูุง reactive ุขู ุชุบุฑ ฺฉุฑุฏู ุจุงุดูุฏ. ุงู ุจุฏุงู ูุนูุงุณุช ฺฉู ุชุง ุฒูุงู ฺฉูย`author.books`ยุชุบุฑ ูฺฉุฑุฏู ุจุงุดุฏุ ุฏุณุชุฑุณ ุจูย`publishedBooksMessage`ยูุชุฌู ูุญุงุณุจู ูุจู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏุ ุจุฏูู ูุงุฒ ุจู ุงุฌุฑุง ูุฌุฏุฏ ุชุงุจุน getter. ุงูุง ูุชุฏย**ููุดู**ยูุฑ ุฒูุงู ฺฉู ุฑูุฏุฑ ูุฌุฏุฏ ุงุชูุงู ุจูุชุฏุ ูุฑุงุฎูุงู ูโุดูุฏ.
- ฺฉุงุฑุจุฑุฏ: ุฏุฑ ุฌุงุฆฺฉู ุฎุฑูุฌ ูุญุงุณุจุงุช ูุงุจุณุชู ุจู ูพุฑุงูพุฑุช ูุง reactive ุงุณุช ู ูโุฎูุงูู ููุท **ููุช ุฏุงุฏู ุชุบุฑ ฺฉุฑุฏ** ูุญุงุณุจู ุงูุฌุงู ุดูุฏ.ูุซูุง ุฏุฑ ุตูุญู ูุฑูุดฺฏุงู ุจุง ูุฑ ุจุงุฑ ุฑูุฏุฑ ุตูุญูุ ูุฌููุน ููุช ูุญุตููุงุช ูุฌุฏุฏุง ูุญุงุณุจู ูุดูุฏ ู ุงุฒ computed cash ุฎูุงูุฏู ุดูุฏ.
- ูพุฑุงูพุฑุช computed ุฒุฑ ูฺ ููุช ุจูโุฑูุฒ ููโุดูุฏุ ุฒุฑุงย`Date.now()โ`ยฺฉ reactive ููโุจุงุดุฏ.
```js ln=false
const now = computed(() => Date.now())
```
# Watchers
ูพุฑุงูพุฑุช ูุง computed ุจู ุดูุง ุงู ุงูฺฉุงู ุฑุง ูโุฏููุฏ ฺฉู ููุงุฏุฑ ุฌุฏุฏ ุฑุง ุจุฑุงุณุงุณ ุฏุงุฏูโูุง ููุฌูุฏ ูุญุงุณุจู ฺฉูุฏ. ุจุง ุงู ุญุงู ุฏุฑ ฺฉ ุณุฑ ุงุฒ ููุงุฑุฏ ูุง ุจุงุฏ ุฏุฑ ูุงฺฉูุด ุจู ุชุบุฑุงุชุ ุนููุงุชโูุง ุฑุง ุงูุฌุงู ุฏูู. ุจุฑุง ูุซุงู ุชุบุฑ ุฏุฑ DOM ุง ุชุบุฑ ุจุฎุด ุงุฒ state ฺฉู ูุชุฌู ฺฉ ุนููุงุช ููฺฏุงู async ุงุณุช.

ูุฑุถ ฺฉู ุฏุฑ ุตูุญูโ ุฎุฑุฏ ฺฉ ูุฑูุดฺฏุงูุ ฺฉุงุฑุจุฑ ุชุนุฏุงุฏ ฺฉุงูุง ุฑุง ูุงุฑุฏ ูโฺฉูุฏ. ุงฺฏุฑ ููุท ุจุฎูุงูู ููุช ฺฉู ุฑุง ูุญุงุณุจู ฺฉูู ุขูฺฏุงู - ูุงุฒ ุจู "ฺฉุงุฑ ุงุถุงูู" ุง "ุงุซุฑ ุฌุงูุจ" ูุฏุงุฑุ ููุท ฺฉุงู ุงุณุช ฺฉ ููุฏุงุฑ **ูุดุชูโุดุฏู** (derived value) ูุญุงุณุจู ุดูุฏ ฺฉู ุชุง ุงูุฌุง **Computed** ฺฉุงู ุงุณุช.
ุงูุง ุงฺฏุฑ ุจุฎูุงู ุจุง ุชุบุฑ ฺฉุงูุงุ ** ฺฉ ุฏุฑุฎูุงุณุช ุจู ุณุฑูุฑ ุจูุฑุณุช** ุชุง ููุฌูุฏ ุงูุจุงุฑ ฺฺฉ ุดูุฏ - ุงู ฺฉุงุฑ ุฏฺฏุฑ ููุท ูุญุงุณุจูโ ฺฉ ููุฏุงุฑ ูุณุชุ ุจูฺฉู ฺฉ **ุงุซุฑ ุฌุงูุจ (side effect)** ุงุณุช: ูุซู ุงุฑุณุงู ุฏุฑุฎูุงุณุช Ajaxุ ุชุบุฑ DOM ุง ุงุฌุฑุง ฺฉ ุชุงูุฑ. ุฏุฑ ุงู ุญุงูุช ุจุงุฏ ุงุฒ **watch** ุงุณุชูุงุฏู ฺฉูู. ุจูุงุจุฑุงู Watch ุจุฑุง ุฒูุงู ุงุณุช ฺฉู ูุงุฒ ุฏุงุฑ ุจู **ุชุบุฑ ฺฉ ุฏุงุฏู ูุงฺฉูุด ูุดุงู ุจุฏู**ู ู ฺฉ **ฺฉุงุฑ ุงุถุงู** (async, DOM, side effect) ุงูุฌุงู ุฏูู.

| --       | --            |                                                              |
| -------- | ------------- | ------------------------------------------------------------ |
| watch    | side effects  | ุฏู ุขุฑฺฏููุงู ูุฑูุฏ: newval ู oldval ุฑุง ุฎูุฏ ูู ููุฏุงุฑ ุฏู ูฺฉูุฏ |
| computed | derived value | ุขุฑฺฏููุงู ูุฑูุฏ ูู ฺฏุฑุฏ                                       |
```vue ln=false
<script setup>
	watch ( watchedVar, (newval,oldval) => { //not watchedVar.value
		//do something
	})
	
	newval = computed ( () => {
		return jsExpression-included-derived-vars
	})
</script>
```
---
# Reactivity
ุจุง ุณูุงู
ุงู ฺฉ ูฺฉุชู ุฎู ููู ุฏุฑ Vue 3 ู **reactivity system** ุงุณุช ฺฉู ุชูุงูุช ุจู `ref([...])` ู `computed(() => ...)` ุฑุง ุฑูุดู ูโฺฉูุฏ.

### 1๏ธโฃ ุฑูุด ุงูู: `const rows = ref([...props.users.data]);`
```js
const rows = ref([...props.users.data]);
```
- ุงูุฌุง `[...props.users.data]` ฺฉ **ฺฉูพ ุณุทุญ (shallow copy)** ุงุฒ ุขุฑุงู ุงุตู ุณุงุฎุชู ุงุณุช.
- ฺฉูพ ุณุงุฎุชู ุดุฏู **ฺฉ snapshot ุซุงุจุช** ุงุฒ ุฒูุงู mount ฺฉุงููพูููุช ุงุณุช.
- ุจุนุฏ ุงุฒ ุขูุ ุงฺฏุฑ `props.users.data` ุฏุฑ ุงุซุฑ ฺฉ **ุฏุฑุฎูุงุณุช ุฌุฏุฏ ุงุฒ ุณุฑูุฑ** (ูุซูุงู ุจุนุฏ ุงุฒ ุญุฐู ุฑฺฉูุฑุฏ ุง ุตูุญูโุจูุฏ) ุชุบุฑ ฺฉูุฏุ **ฺฉูพ ุณุงุฎุชู ุดุฏู ุชุบุฑ ููโฺฉูุฏ**.
- ุจู ุนุจุงุฑุช ุฏฺฏุฑุ ุงู ุขุฑุงู ูุณุชูู ุดุฏู ู reactive ูุณุจุช ุจู ุชุบุฑ `props.users.data` ูุณุช.
ุฏุฑ ูุชุฌูุ ุฌุฏูู **ุจูโุฑูุฒุฑุณุงู ููโุดูุฏ** ฺูู `rows.value` ุฏฺฏุฑ ุจู `props.users.data` ูุตู ูุณุช.
---
### 2๏ธโฃ ุฑูุด ุฏูู: `const rows = computed(() => props.users.data || []);`
```js
const rows = computed(() => props.users.data || []);
```
- ุงูุฌุง `rows` **ฺฉ computed reactive** ุงุณุช ฺฉู ูุฑ ุจุงุฑ `props.users.data` ุชุบุฑ ฺฉูุฏุ ููุฏุงุฑ ุฌุฏุฏ ุฑุง ูุญุงุณุจู ูโฺฉูุฏ.
- ูุฒุช: **ููุดู ุจุง props ุงุตู ุณูฺฉ ุงุณุช** ู ุชุบุฑุงุช backend (ูุซูุงู ุญุฐู ุฑฺฉูุฑุฏูุง ุง ุตูุญูโุจูุฏ ุฌุฏุฏ) ุฑู ุฌุฏูู ููุนฺฉุณ ูโุดูุฏ.
- ุฏุฑ ูุงูุน ุฌุฏูู ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ snapshotุ ููุดู **ุจู ููุจุน ุฏุงุฏู ูุงูุน** ูฺฏุงู ูโฺฉูุฏ.
---
### โ ุฌูุนโุจูุฏ
|ุฑูุด|ุขุง reactive ูุณุจุช ุจู props ุงุณุชุ|ุชูุถุญ|
|---|---|---|
|`ref([...props.users.data])`|โ ูู|ููุท ฺฉ ฺฉูพ ุณุทุญ ูุณุชููุ ุชุบุฑุงุช props ุฑู ุขู ุงุซุฑ ูุฏุงุฑุฏ|
|`computed(() => props.users.data||[])`|

๐ก ูฺฉุชู ุนูู:
- ููุช ุฏุงุฏูโูุง ุงุฒ **props** ูโุขูุฏ ู ููฺฉู ุงุณุช ุชุบุฑ ฺฉููุฏุ ููุดู ุจูุชุฑ ุงุณุช ุงุฒ **computed** ุงุณุชูุงุฏู ฺฉูุฏ.
- `ref([...])` ุจุดุชุฑ ุฒูุงู ฺฉุงุฑุจุฑุฏ ุฏุงุฑุฏ ฺฉู ุจุฎูุงูุฏ ฺฉ ุขุฑุงู ุฏุงุฎู ฺฉุงููุงู ูุณุชูู ุฏุงุดุชู ุจุงุดุฏ ู ุชุบุฑ ุขู ูฺ ุงุฑุชุจุงุท ุจุง props ูุฏุงุดุชู ุจุงุดุฏ.
---
ุงฺฏุฑ ุจุฎูุงูุ ูโุชูุงูู **ุฑูุด ุฏุฑุณุช ุญุฐู ุฑุฏูโูุง ู ุจุฑูุฒ ุฑุณุงู ุฌุฏูู ุจุฏูู ุฑูุฑุด ุตูุญู** ุฑุง ูู ุจุง `computed` ู Inertia ูุดุงู ุจุฏููุ ุทูุฑ ฺฉู ุงูุชุฎุงุจ ู ุญุฐู ุฑฺฉูุฑุฏูุง ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ.
ูโุฎูุง ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ุฏููุ